<!DOCTYPE html>
<html lang="es">
<%- include('partials/headAdmin')  %>

<body class="bg-white">
	<%- include('partials/headerAdmin') %>

	<section class="container bg-light">

		<article class="box-center">
			<div class=" text-center ">
				<hr class="mx-auto m-12" size="5" noshade="noshade" width="100%" />
				<h4>Registrarse</h4>
				<hr class="mx-auto m-12 " size="5 " noshade="noshade " width="90%" />
			</div>



			<form class="container" id="form" action="/users/register" method="POST" enctype="multipart/form-data">
				<div class=" bg-white border border-1 ">
					<div class="logo-person mb-3">
						<img src="/images/logo-person.png " class=" img-logo-person img-fluid m-3 rounded mx-auto d-block" alt="logo" width="150px">
					</div>


					<!-- first name -->
					<div class="row mx-auto mb-3 form_group" id="group_first_name">
						<div class="mx-auto col-sm-10 col-md-9 col-lg-8 col-xl-6 form_group_input">
							<input type="text" class="form-control form_input" placeholder="nombre" name="first_name" id="first_name" required>
							<i class="form_validation_status fas fa-times-circle"></i>
							<span class="text-danger"><%= (typeof errors != 'undefined' &&  errors.first_name)?errors.first_name.msg: ""%> </span>
							<p class="form_error_input">El nombre debe tener entre 2 y 20 caracteres. Solo puede contener letras.</p>
						</div>
					</div>


					<!-- last name -->
					<div class="row mx-auto mb-3 form_group" id="group_last_name">
						<div class="mx-auto col-sm-10 col-md-9 col-lg-8 col-xl-6 form_group_input">
							<input type="text" class="form-control form_input" placeholder="apellido" name="last_name" id="last_name" required>
							<i class="form_validation_status fas fa-times-circle"></i>
							<span class="text-danger"><%= (typeof errors != 'undefined' &&  errors.last_name)?errors.last_name.msg: ""%> </span>
							<p class="form_error_input">El apellido debe tener entre 2 y 20 caracteres. Solo puede contener letras.</p>
						</div>
					</div>

					<!-- email -->
					<div class="row mx-auto mb-3 form_group" id="group_email">
						<div class="mx-auto col-sm-10 col-md-9 col-lg-8 col-xl-6 form_group_input">
							<input type="email" class="form-control form_input" placeholder="email" name="email" id="email" required>
							<i class="form_validation_status fas fa-times-circle"></i>
							<span class="text-danger"><%= (typeof errors != 'undefined' &&  errors.email)?errors.email.msg: ""%> </span>
							<p class="form_error_input">El email solo puede contener letras, numeros, puntos, guiones y guion bajo.</p>
						</div>
					</div>

					<!-- role -->
					<div class="row mx-auto mb-3">
						<div class="mx-auto col-sm-10 col-md-9 col-lg-8 col-xl-6">
							<select name="role" class="form-control" required>
						<% roles.forEach(role => { %>
							<option value="<%= role.id%>" ><%= role.name%></option>                                         
						<% }) %>                                        
					</select>
						</div>
					</div>

					<!-- password -->
					<div class="row mx-auto mb-3 form_group" id="group_password">
						<div class="mx-auto col-sm-10 col-md-9 col-lg-8 col-xl-6 form_group_input" >
							<input type="password" class="form-control form_input" placeholder="contrase単a" name="password" id="password" required>
							<i class="form_validation_status fas fa-times-circle"></i>
							<span class="text-danger"><%= (typeof errors != 'undefined' &&  errors.password)?errors.password.msg: ""%> </span>
							<p class="form_error_input">La contrase単a debe tener entre 8 y 16 caracteres.</p>
						</div>
					</div>

					<!-- password 2 -->
					<div class="row mx-auto mb-3 form_group" id="group_password2">
						<div class="mx-auto col-sm-10 col-md-9 col-lg-8 col-xl-6 form_group_input" >
							<input type="password" class="form-control form_input" placeholder="repetir contrase単a" name="password2" id="password2" required>
							<i class="form_validation_status fas fa-times-circle"></i>
							<p class="form_error_input">Ambas contrase単as deben coincidir.</p>
						</div>
					</div>

					<div class="row mx-auto mb-3">
						<div class="mx-auto col-sm-10 col-md-9 col-lg-8 col-xl-6 form_group" id="grupo_terms">
							<label class="form_label">
								<input class="form_checkbox" type="checkbox" name="terms" id="terms">
								Acepto los Terminos y Condiciones
							</label>
						</div>
					</div>

					<div class="row mx-auto mb-5">
						<div class="mx-auto col-sm-10 col-md-9 col-lg-8 col-xl-6 ">
							<div class="custom-input-file col-md-6 col-sm-6 col-xs-6">
								<input type="file" id="nomFirs" class="input-file" value="" name="avatar"> Subir foto
							</div>
						</div>

						<div class="row mx-auto pb-5 pt-4">
							<div class="form_message" id="form_message">
								<p><i class="fas fa-exclamation-triangle"></i> <b>Error:</b> Por favor complete el formulario correctamente. </p>
							</div>
						</div>
					</div>
				</div>

				<div class="row mx-auto pb-5 pt-4">
					<button class="mx-auto col-4 col-md-5 btn btn-primary mb-5 " type="submit ">Guardar</button>
					<a href="/users/login" class="mx-auto col-4 col-md-3 btn btn-danger mb-5 ">volver</a>

					<% if (typeof error != 'undefined') { %>
						<div class="alert alert-danger ">
							<span><%= error %> </span>
						</div>
					<% } %>
				</div>
			</form>

		</article>
	</section>

	<%- include('partials/scriptsAdmin')  %>
	<!-- <script src="/javascripts/userForm.js"></script> -->
</body>

</html>